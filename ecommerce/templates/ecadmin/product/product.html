{% extends "ecadmin/base.html" %}
{% load static %}
{% block content %}
    <div class="container-fluid p-0">
		<h1 class="h3 mb-3"><strong>Product Table</strong></h1>
		 <div class="row">
          <div class="col-md-12">
            <div class="card">
              <!-- /.card-header -->
              	<div class="card-body">
					<div class="card-header d-flex justify-content-between">
						 <h5 class="m-0"></h5>
						<a href="{% url 'ecadmin:product-post' %}" type="btn" class="btn btn-secondary m-0 w-10">
							<i class="align-middle" data-feather="plus-circle"></i>
							Add New
						</a>
					</div>
					<table id="productTable" class="display">
				   <thead>
					   <tr>
						   <th>Name</th>
						   <th>Category</th>
						   <th>Price</th>
						   <th>Stock</th>
						   <th>Image</th>
						   <th>Description</th>
						   <th>Action</th>
					   </tr>
				   </thead>
				   <tbody>
					 {% for product in products %}
						<tr>
							<td>{{ product.product_name }}</td>
							<td>{{product.category}}</td>
							<td>{{ product.price }}</td>
							<td>{{product.stock}}</td>
							<td>
								{% if product.image %}
									<img src="{{ product.image.url }}" width="50" height="50" style="object-fit:cover">
								{% else %}
									<p>No image available</p>
								{% endif %}
							</td>
							<td>{{ product.description }}</td>
							<td>
								<a href="{% url 'ecadmin:product-update' product.id %}" class="btn btn-primary">
									Edit
								</a>

								<a href="{% url 'ecadmin:product-delete' product.id %} "class="btn btn-danger" >
									Delete
								</a>
							</td>
						</tr>
					 {% endfor %}
				   </tbody>
				</table>
              	</div>
            </div>
          </div>
        </div>
	</div>
{% endblock %}